<div style="height:100px"></div>

<div *ngIf="index === 5" class="backdrop">
	<div>
		<p class="msg-backdrop">Teréga vous remercie de votre coopération. <br /> Veuillez cliquer sur "Retourner à la
			page d' accueil" pour finir </p>
	</div>
	<a routerLink="/">Retourner à la page d'accueil</a>
</div>

<div class="container m-auto bg-light p-5" style="border-radius: 15px;">
	<div class="mb-4">
		<h2>Prise de vues</h2>
	</div>

	<div class="text-center">
		<input type="text" class="mb-2 px-2" placeholder="Saisissez votre ID ..." style="width: 400px;"
			[(ngModel)]="prestataireID">
	</div>

	<div class="row justify-content-between align-items-center">
		<div class="text-center col">
			<div class="m-auto" style="width: 410px; position:relative">
				<webcam [trigger]="triggerObservable" (imageCapture)="handleImage($event)" width=410></webcam>
	
				<div class="rect-guide-lines"></div>
			</div>

			<div>
				<button class="btn btn-secondary takeShot mb-2" [disabled]="prestataireID == ''" (click)="triggerSnapshot();"
					[ngClass]="{'modifier' : modified === true }">
					<i class="fa fa-camera" aria-hidden="true"></i>
					{{text}}
				</button>
			</div>
		</div>
		<div class="text-center col " *ngIf="webcamImage">

			<img [src]="webcamImage.imageAsDataUrl" class="snapshot" align="center" />
			<button *ngIf="webcamImage" [disabled]="buttonDisabled" [disabled]="prestataireID == ''" data-toggle="modal" data-target="#exampleModal"
				class="btn btn-success valider mt-2" (click)="saveImage()"><i class="fas fa-cloud-upload-alt"></i>
				Valider
			</button>


			<!-- valider l'image et l'envoyer vers s3 -->
		</div>
		



	</div>


	<!-- augmenter l'opacité des visages après avoir validé les photos -->
	<div class="container mt-4">
		<div class="row justify-content-between">
			<div class="exp d-flex flex-column align-items-center" [ngClass]="{'fullOp':index>0}">
				<img src="../../assets/images/model-photos/model-1.png" alt="" style="max-width: 150px;">
				<div class="check my-2">
					<i *ngIf="index>0" class="fas fa-check text-success"></i>
				</div>
			</div>
			<div class="exp d-flex flex-column align-items-center" [ngClass]="{'fullOp':index>1}">
				<img src="../../assets/images/model-photos/model-2.png" alt="" style="max-width: 150px;">
				<div class="check my-2">
					<i *ngIf="index>1" class="fas fa-check text-success"></i>
				</div>
			</div>
			<div class="exp d-flex flex-column align-items-center" [ngClass]="{'fullOp':index>2}">
				<img src="../../assets/images/model-photos/model-3.png" alt="" style="max-width: 150px;">
				<div class="check my-2">
					<i *ngIf="index>2" class="fas fa-check text-success"></i>
				</div>
			</div>
			<div class="exp d-flex flex-column align-items-center" [ngClass]="{'fullOp':index>3}">
				<img src="../../assets/images/model-photos/model-4.png" alt="" style="max-width: 150px;">
				<div class="check my-2">
					<i *ngIf="index>3" class="fas fa-check text-success"></i>
				</div>
			</div>
			<div class="exp d-flex flex-column align-items-center" [ngClass]="{'fullOp':index>4}">
				<img src="../../assets/images/model-photos/model-5.png" alt="" style="max-width: 150px;">
				<div class="check my-2">
					<i *ngIf="index>4" class="fas fa-check text-success"></i>
				</div>
			</div>
		</div>
	</div>
</div>